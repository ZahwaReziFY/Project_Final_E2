<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Edit Film | CINELOG</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
  background:#0f172a;
  color:white;
}
.container{
  margin-top:40px;
}

.card{
  background:rgba(17,24,39,.95);
  border-radius:16px;
  padding:20px;
  max-width:500px;
  margin:auto;
  box-shadow:0 10px 30px rgba(0,0,0,.6);
}
label{
  font-weight:bold;
  margin-top:10px;
}
.btn-back{
  margin-bottom:20px;
}
</style>
</head>
<body>

<div class="container">
<a href="/home" class="btn btn-secondary btn-sm btn-back">Kembali ke Home</a>

<div class="card">
<h3 class="mb-3">Edit Film</h3>

<form action="/movies/<%= movie.id %>/edit" method="POST">

<div class="mb-2">
<label>Title</label>
<input type="text" name="title" value="<%= movie.title %>" class="form-control" required>
</div>

<div class="mb-2">
<label>Year</label>
<input type="number" name="year" value="<%= movie.year %>" class="form-control" required>
</div>

<div class="mb-2">
<label>Rating</label>
<input type="number" step="0.1" name="rating" value="<%= movie.rating %>" class="form-control" required>
</div>

<div class="mb-2">
<label>Status</label>
<select name="status" class="form-control">
<option value="Watched" <%= movie.status==='Watched'?'selected':'' %>>Watched</option>
<option value="Watching" <%= movie.status==='Watching'?'selected':'' %>>Watching</option>
<option value="Plan to Watch" <%= movie.status==='Plan to Watch'?'selected':'' %>>Plan to Watch</option>
</select>
</div>

<div class="mb-2">
<label>Genre</label>
<select name="category_id" class="form-control">
<% categories.forEach(cat => { %>
<option value="<%= cat.id %>" <%= movie.category_id===cat.id?'selected':'' %>><%= cat.genre_name %></option>
<% }) %>
</select>
</div>

<button class="btn btn-primary w-100 mt-3">Update Film</button>
</form>
</div>
</div>

</body>
</html>
